<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title><%= title || 'Docusaurus Admin' %></title>
  <style>
    :root { --bg:#0b1020; --card:#121a2b; --muted:#8aa0b5; --text:#e6eef6; --accent:#6aa3ff; --danger:#ff6b6b; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background: var(--bg); color: var(--text); }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    header { position: sticky; top:0; z-index:10; background: rgba(11,16,32,0.7); backdrop-filter: blur(8px); border-bottom: 1px solid #1e2a41; }
    .container { max-width: 980px; margin: 0 auto; padding: 16px; }
    .nav { display:flex; align-items:center; gap:16px; }
    .spacer { flex:1; }
    .btn { display:inline-flex; align-items:center; gap:8px; padding:8px 14px; border-radius:10px; border:1px solid #274164; background:#16243a; color:var(--text); cursor:pointer; }
    .btn:hover { background:#1a2a45; }
    .btn-danger { border-color: #5b1d28; background:#2a0f14; }
    .btn-danger:hover { background:#3a131b; }
    .card { background: var(--card); border:1px solid #1e2a41; border-radius: 14px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); }
    .grid { display:grid; gap:16px; }
    .grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .muted { color: var(--muted); }
    textarea, input[type=text] { width:100%; background:#0f1729; color:var(--text); border:1px solid #1e2a41; border-radius:10px; padding:10px; }
    textarea { min-height: 65vh; font-family: ui-monospace, Menlo, Consolas, monospace; }
    .list { list-style:none; padding:0; margin:0; display:grid; gap:12px; }
    .repo { display:flex; align-items:center; justify-content:space-between; gap:8px; padding:12px; border:1px solid #21314e; border-radius:10px; background:#0f1729; }
    .tag { font-size:12px; padding:2px 8px; border-radius:999px; background:#21314e; color:#a8c1dc; }
  </style>
  </head>
<body>
  <header>
    <div class="container nav">
      <a href="/" class="logo" style="font-weight:700;">Docusaurus Admin</a>
      <a href="/repos">Repositories</a>
      <span class="spacer"></span>
      <% if (user) { %>
        <form action="/auth/logout?_method=POST" method="POST">
          <input type="hidden" name="_csrf" value="<%= csrfToken %>"/>
          <button class="btn btn-danger" type="submit">Logout</button>
        </form>
      <% } else { %>
        <a class="btn" href="/auth/github?returnTo=/repos">Login with GitHub</a>
      <% } %>
    </div>
  </header>
  <main>
    <div class="container">
      <%- body %>
    </div>
  </main>
</body>
</html>
